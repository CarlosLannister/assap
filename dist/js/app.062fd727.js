(function(t){function e(e){for(var o,s,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)s=r[d],i[s]&&f.push(i[s][0]),i[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(o=!1)}o&&(a.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},i={app:0},a=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"093b":function(t,e,n){},1:function(t,e){},2:function(t,e){},3:function(t,e){},3654:function(t,e,n){"use strict";var o=n("d1d6"),i=n.n(o);i.a},4:function(t,e){},"4cd8":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var o=n("2b0e"),i=n("ecee"),a=n("c074"),s=n("7a55"),r=(n("11dd"),n("0290"),n("a65d")),c=n.n(r),l=(n("ffec"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),u=[],d=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("nav",{staticClass:"navbar is-primary",attrs:{role:"navigation","aria-label":"main navigation"}},[o("div",{staticClass:"navbar-brand"},[o("router-link",{staticClass:"navbar-item",attrs:{to:{name:"home"}}},[o("img",{attrs:{src:n("cf05"),width:"28",height:"28"}}),t._v("Anti Shoulder Surfing Attack Platform (ASSAP)")]),o("a",{staticClass:"navbar-burger burger",class:{"is-active":t.showNav},attrs:{role:"button","aria-label":"menu","aria-expanded":"false"},on:{click:function(e){t.showNav=!t.showNav}}},[o("span",{attrs:{"aria-hidden":"true"}}),o("span",{attrs:{"aria-hidden":"true"}}),o("span",{attrs:{"aria-hidden":"true"}})])],1),o("div",{staticClass:"navbar-menu",class:{"is-active":t.showNav}},[o("div",{staticClass:"navbar-end"},[o("div",{staticClass:"navbar-item"},[o("div",{staticClass:"buttons"},[o("router-link",{staticClass:"is-primary",attrs:{to:{name:"config"}}},[o("font-awesome-icon",{attrs:{icon:["fas","cog"]}})],1)],1)])])])])},f=[],v={name:"Bar",data:function(){return{showNav:!1}}},h=v,g=n("2877"),m=Object(g["a"])(h,d,f,!1,null,null,null);m.options.__file="Bar.vue";var p=m.exports,b={name:"app",components:{Bar:p}},w=b,_=(n("cf25"),Object(g["a"])(w,l,u,!1,null,null,null));_.options.__file="App.vue";var y=_.exports,C=(n("093b"),n("8c4f")),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Camera")},k=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"section"},[n("video",{attrs:{id:"camera",width:"270",height:"150",preload:"",autoplay:"",loop:"",muted:""},domProps:{muted:!0},on:{play:t.onPlay}}),n("canvas",{attrs:{id:"canvas",width:"270",height:"150"}})]),n("div",{staticClass:"wrapper"},[n("div",{staticClass:"top-bar"},[n("div",{staticClass:"control-wrapper"},[t.isRecording?n("div",{attrs:{id:"control-icon"}},[n("font-awesome-icon",{staticClass:"stop",attrs:{icon:["fas","stop-circle"]},on:{click:function(e){t.toggleRecord()}}})],1):t._e(),t.isRecording?t._e():n("div",{staticClass:"double no-recording",attrs:{id:"control-icon"}},[n("font-awesome-icon",{staticClass:"inline exit",attrs:{icon:["fas","times-circle"]},on:{click:function(e){t.exitRecord()}}}),n("font-awesome-icon",{staticClass:"inline resume",attrs:{icon:["fas","play-circle"]},on:{click:function(e){t.toggleRecord()}}})],1)]),n("div",{staticClass:"settings-wrapper"},[t.isSettings?t._e():n("div",{attrs:{id:"control-icon"}},[n("font-awesome-icon",{staticClass:"settings",attrs:{icon:["fas","sliders-h"]},on:{click:function(e){t.toggleSettings()}}})],1),t.isSettings?n("div",{attrs:{id:"control-icon"}},[n("font-awesome-icon",{staticClass:"settings",attrs:{icon:["fas","times"]},on:{click:function(e){t.toggleSettings()}}})],1):t._e()])]),t.isSettings?n("div",{staticClass:"menu"},[n("SettingNav")],1):t._e()])])},j=[],S=n("ab39"),A=(n("3e8f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setting-nav"},[t._m(0),n("div",{staticClass:"options"},[n("div",{staticClass:"opt-section"},[n("span",[t._v("Load Model")]),n("form",[n("input",{directives:[{name:"model",rawName:"v-model",value:t.config.url,expression:"config.url"}],domProps:{value:t.config.url},on:{input:function(e){e.target.composing||t.$set(t.config,"url",e.target.value)}}}),n("button",{on:{click:function(e){e.preventDefault(),t.loadURL()}}},[t._v("Load")])])]),n("div",{staticClass:"opt-section"},[n("span",[t._v("Actions")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.config.action,expression:"config.action"}],on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.$set(t.config,"action",e.target.multiple?n:n[0])},function(e){t.loadAction()}]}},t._l(t.actionList,function(e){return n("option",{domProps:{selected:e==t.config.action}},[t._v(t._s(e))])}))])])])}),N=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings-header"},[n("h1",[t._v("Settings")])])}],E=n("abea"),R=n("bc18"),M={name:"SettingNav",data:function(){return{config:{url:"",action:""},actionList:["No Options"]}},mounted:function(){var t=new E["a"]("","");this.actionList=t.getAvailableActions(),this.config.action=Object(R["a"])().action,this.config.url=Object(R["a"])().model_url},methods:{loadURL:function(){Object(R["c"])(this.config.url)},loadAction:function(){console.log(this.config.action),Object(R["b"])(this.config.action)}}},L=M,P=(n("ad9f"),Object(g["a"])(L,A,N,!1,null,null,null));P.options.__file="SettingNav.vue";var B=P.exports,T=n("bdb9").remote.globalShortcut,$=new E["a"],D={name:"camera",components:{SettingNav:B},data:function(){return{isRecording:!0,isSettings:!1,text:"Record",error:!1,track:null}},mounted:function(){var t=this,e=document.getElementById("camera");navigator.mediaDevices.getUserMedia({video:{}}).then(function(n){e.srcObject=n,t.track=n.getTracks()[0]}).catch(function(t){console.log("Error!",t)});var n=Object(R["a"])().model_url;console.log(n),S["c"](n).then(function(){return console.log("loaded ssd model!")}).catch(function(t){return console.error(t)}),S["d"](n).then(function(){return console.log("loaded tiny model!")}).catch(function(t){return console.error(t)})},created:function(){T.register("CommandOrControl+H",function(){console.log("reverse"),$.reverseAction()})},methods:{onPlay:function(){var t=this,e=document.getElementById("camera"),n=document.getElementById("canvas");if(e.paused||e.ended)return setTimeout(function(){return t.onPlay()});S["a"](e).then(function(t){console.log(t),t.length>1&&$.executeAction(),n.width=e.width,n.height=e.height;var o=t.map(function(t){return t.forSize(e.width,e.height)});S["b"](n,o,{withScore:!0})}).catch(function(t){console.log("Error",t)}),setTimeout(function(){return t.onPlay()})},toggleRecord:function(){var t=this;if(this.isRecording=!this.isRecording,this.text=this.isRecording?"Stop":"Record",this.isRecording){var e=document.getElementById("camera");navigator.mediaDevices.getUserMedia({video:{}}).then(function(n){e.srcObject=n,t.track=n.getTracks()[0]}).catch(function(t){console.log("Error!",t)})}else this.track.stop()},toggleSettings:function(){this.isSettings=!this.isSettings},exitRecord:function(){var t=n("bdb9").remote,e=t.getCurrentWindow();e.close()}}},I=D,W=(n("b05e"),Object(g["a"])(I,x,j,!1,null,null,null));W.options.__file="Camera.vue";var U=W.exports,G={name:"home",components:{Camera:U},methods:{}},q=G,z=(n("3654"),Object(g["a"])(q,O,k,!1,null,null,null));z.options.__file="Home.vue";var F=z.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"about"},[n("h1",[t._v("This is an about page")]),n("router-link",{attrs:{to:{name:"home"}}},[t._v("Back home")])],1)},J=[],K={},Q=Object(g["a"])(K,H,J,!1,null,null,null);Q.options.__file="About.vue";var V=Q.exports;o["a"].use(C["a"]);var X=new C["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:F},{path:"/about",name:"about",component:V}]});i["library"].add(a["i"],a["e"],a["a"],a["b"],a["f"],a["c"],a["h"],a["d"],a["g"]),o["a"].component("font-awesome-icon",s["FontAwesomeIcon"]),o["a"].use(c.a,{duration:1e3,singleton:!0}),o["a"].config.productionTip=!1;var Y=n("63a9"),Z=new Y;Z.get("MODEL_URL")||Object(R["c"])("https://github.com/assap-org/models/releases/download/1.0.0"),Z.get("ACTION")||Object(R["b"])("notification"),new o["a"]({router:X,render:function(t){return t(y)}}).$mount("#app")},7386:function(t,e,n){},"8a9f":function(t,e,n){var o={"./alpine.js":"e344","./amazon.js":"3642","./centos.js":"003b","./debian.js":"754f","./fedora.js":"5bf1","./red.js":"ee70","./suse.js":"14b4","./ubuntu.js":"dc37"};function i(t){var e=a(t);return n(e)}function a(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}i.keys=function(){return Object.keys(o)},i.resolve=a,t.exports=i,i.id="8a9f"},abea:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return r});var o=n("c665"),i=n("aa9a"),a=n("a322"),s=n("bc18"),r=function(){function e(){Object(o["a"])(this,e),Object(a["a"])(this,"isActionDone",!1),this.actionName=Object(s["a"])().action,this.opsystem=t.platform,this.exec=n("3e8f").exec,this.availableActions=["lockscreen","lowbrightness","notification"]}return Object(i["a"])(e,[{key:"getActionName",value:function(){return this.actionName}},{key:"getAvailableActions",value:function(){return this.availableActions}},{key:"executeAction",value:function(){switch(this.actionName=Object(s["a"])().action,this.actionName){case"lockscreen":this.lockscreen();break;case"lowbrightness":this.lowbrightness();break;case"notification":this.notify();break;case"alarm":this.alarm();break}}},{key:"reverseAction",value:function(){switch(this.actionName){case"lowbrightness":this.reverselowbrightness();break}}},{key:"lowbrightness",value:function(){var t=n("709e"),e="powershell (Get-WmiObject -Namespace root/WMI -Class WmiMonitorBrightnessMethods).WmiSetBrightness(1,1)",o='xrandr --output $(xrandr -q | grep "connected" | head -n 1 | cut -d " " -f1) --brightness 0.1',i={linux:o,win32:e};"darwin"==this.opsystem?t.set(.1).then(function(){console.log("Changed brightness to 10%")}):this.exec(i[this.opsystem],function(t){null!==t&&console.log("exec error: "+t)})}},{key:"reverselowbrightness",value:function(){var t=n("709e"),e="powershell (Get-WmiObject -Namespace root/WMI -Class WmiMonitorBrightnessMethods).WmiSetBrightness(1,100)",o='xrandr --output $(xrandr -q | grep "connected" | head -n 1 | cut -d " " -f1) --brightness 0.8',i={linux:o,win32:e};"darwin"==this.opsystem?t.set(.8).then(function(){console.log("Changed brightness to 80%")}):this.exec(i[this.opsystem],function(t){null!==t&&console.log("exec error: "+t)})}},{key:"lockscreen",value:function(){if(this.actionName=Object(s["a"])().action,!this.isActionDone){var t="rundll32.exe user32.dll,LockWorkStation",e="xdg-screensaver lock",n="/System/Library/CoreServices/Menu\\ Extras/user.menu/Contents/Resources/CGSession -suspend",o={linux:e,darwin:n,win32:t};this.exec(o[this.opsystem],function(t){null!==t&&console.log("exec error: "+t)})}"darwin"==this.opsystem&&(this.isActionDone=!0)}},{key:"notify",value:function(){new Notification("¡Alerta!",{body:"Podrían estar observandote."})}}]),e}()}).call(this,n("4362"))},ad9f:function(t,e,n){"use strict";var o=n("4cd8"),i=n.n(o);i.a},b05e:function(t,e,n){"use strict";var o=n("ca32"),i=n.n(o);i.a},bc18:function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"b",function(){return i}),n.d(e,"a",function(){return a});n("cadf"),n("551c"),n("097d");function o(t){var e=n("63a9"),o=new e;o.set("MODEL_URL",t)}function i(t){var e=n("63a9"),o=new e;o.set("ACTION",t)}function a(){var t=n("63a9"),e=new t,o={};return o["model_url"]=e.get("MODEL_URL"),o["action"]=e.get("ACTION"),o}},ca32:function(t,e,n){},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},cf25:function(t,e,n){"use strict";var o=n("7386"),i=n.n(o);i.a},d1d6:function(t,e,n){}});
//# sourceMappingURL=app.062fd727.js.map